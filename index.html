<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="pragma" content="no-cache">
  <meta http-equiv="cache-control" content="no-cache">
  <meta http-equiv="expires" content="0">
  
  <title>Hexo</title>
  <meta name="author" content="John Doe">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
  <meta property="og:site_name" content="Hexo"/>

  
    <meta property="og:image" content=""/>
  

  
  
    <link href="/favicon.png" rel="icon">
  
  
  <link rel="stylesheet" href="/css/bootstrap.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/responsive.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/google-fonts.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <script src="/js/jquery-2.0.3.min.js"></script>

  <!-- analytics -->
  
  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-70812759-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-70812759-1');
</script>






<meta name="generator" content="Hexo 5.4.0"></head>

 <body>  
  <nav id="main-nav" class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
      <button type="button" class="navbar-header navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
		<span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
	  <a class="navbar-brand" href="/">Hexo</a>
      <div class="collapse navbar-collapse nav-menu">
		<ul class="nav navbar-nav">
		  
		  <li>
			<a href="/archives" title="All the articles.">
			  <i class=""></i>Archives
			</a>
		  </li>
		  
		  <li>
			<a href="/categories" title="All the categories.">
			  <i class=""></i>Categories
			</a>
		  </li>
		  
		  <li>
			<a href="/tags" title="All the tags.">
			  <i class=""></i>Tags
			</a>
		  </li>
		  
		  <li>
			<a href="/about" title="About me.">
			  <i class=""></i>About
			</a>
		  </li>
		  
		  <li>
			<a href="/atom.xml" title="Subscribe me.">
			  <i class=""></i>RSS
			</a>
		  </li>
		  
		</ul>
      </div>
    </div> <!-- container -->
</nav>
<div class="clearfix"></div>

  <div class="container">
  	<div class="content">
    	 <div class="page-header logo">
  <h1>Hexo<span class="blink-fast">|</span></h1>
</div>

<div class="row page">

	
	<div class="col-md-9">
	

		<div class="slogan">


		<i class="fa fa-heart blink-slow"></i>

		I am a pirate, just for your mind.

</div>    

		<div id="top_search"></div>
		<div class="mypage">
		
		<!-- title and entry -->
		
			
	
	<!-- display as entry -->
<div class="row">
	<div class="col-md-8">
		<h3 class="title">
			<a href="/2021/05/26/Showdown/" >Showdown</a>
		</h3>
		</div>
	<div class="col-md-4">
		<div class="date">post @ 2021-05-26  </div>
		</div>
	</div>
	


			<!--
<div class="entry">
  <div class="row">
	
	
		<p>Showdown is a Javascript Markdown to HTML converter, based on the original works by John Gruber. It can be used client side (in the browser) or server side (with Node or io). </p>
<h1 id="Installation"><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h1><h2 id="Download-tarball"><a href="#Download-tarball" class="headerlink" title="Download tarball"></a>Download tarball</h2><p>You can download the latest release tarball directly from <a target="_blank" rel="noopener" href="https://github.com/showdownjs/showdown/releases">releases</a></p>
<h2 id="Bower"><a href="#Bower" class="headerlink" title="Bower"></a>Bower</h2><pre><code>bower install showdown
</code></pre>
<h2 id="npm-server-side"><a href="#npm-server-side" class="headerlink" title="npm (server-side)"></a>npm (server-side)</h2><pre><code>npm install showdown
</code></pre>
<h2 id="CDN"><a href="#CDN" class="headerlink" title="CDN"></a>CDN</h2><p>You can also use one of several CDNs available: </p>
	

	</div>
  <a type="button" href="/2021/05/26/Showdown/#more" class="btn btn-default more">Read More</a>
</div>

-->
<div class="entry">
  <div class="row">
	
	
		<p>Showdown is a Javascript Markdown to HTML converter, based on the original works by John Gruber. It can be used client side (in the browser) or server side (with Node or io). </p>
<h1 id="Installation"><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h1><h2 id="Download-tarball"><a href="#Download-tarball" class="headerlink" title="Download tarball"></a>Download tarball</h2><p>You can download the latest release tarball directly from <a target="_blank" rel="noopener" href="https://github.com/showdownjs/showdown/releases">releases</a></p>
<h2 id="Bower"><a href="#Bower" class="headerlink" title="Bower"></a>Bower</h2><pre><code>bower install showdown
</code></pre>
<h2 id="npm-server-side"><a href="#npm-server-side" class="headerlink" title="npm (server-side)"></a>npm (server-side)</h2><pre><code>npm install showdown
</code></pre>
<h2 id="CDN"><a href="#CDN" class="headerlink" title="CDN"></a>CDN</h2><p>You can also use one of several CDNs available: </p>
	
	</div>
  <a type="button" href="/2021/05/26/Showdown/#more" class="btn btn-default more">Read More</a>
</div>

		
			
	
	<!-- display as entry -->
<div class="row">
	<div class="col-md-8">
		<h3 class="title">
			<a href="/2021/05/26/hello-world/" >Hello World</a>
		</h3>
		</div>
	<div class="col-md-4">
		<div class="date">post @ 2021-05-26  </div>
		</div>
	</div>
	


			<!--
<div class="entry">
  <div class="row">
	
	
		<p>Welcome to <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a target="_blank" rel="noopener" href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a target="_blank" rel="noopener" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
	

	</div>
  <a type="button" href="/2021/05/26/hello-world/#more" class="btn btn-default more">Read More</a>
</div>

-->
<div class="entry">
  <div class="row">
	
	
		<p>Welcome to <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a target="_blank" rel="noopener" href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a target="_blank" rel="noopener" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
	
	</div>
  <a type="button" href="/2021/05/26/hello-world/#more" class="btn btn-default more">Read More</a>
</div>

		
			
	
	<!-- display as entry -->
<div class="row">
	<div class="col-md-8">
		<h3 class="title">
			<a href="/2021/01/09/Install-K8S-in-centos7/" >Install K8S in centos7</a>
		</h3>
		</div>
	<div class="col-md-4">
		<div class="date">post @ 2021-01-09  </div>
		</div>
	</div>
	


			<!--
<div class="entry">
  <div class="row">
	
	
		<h2 id="虚拟机centos7搭建k8s"><a href="#虚拟机centos7搭建k8s" class="headerlink" title="虚拟机centos7搭建k8s"></a>虚拟机centos7搭建k8s</h2><h2 id="1、踩坑大全"><a href="#1、踩坑大全" class="headerlink" title="1、踩坑大全"></a>1、踩坑大全</h2><ol>
<li>centos7安装的docker后，默认非root用户无法使用，所以需要创建docker组，把当前普通用户加入到组中，这里参考链接：<a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/48957195/how-to-fix-docker-got-permission-denied-issue">设置docker非root用户正常使用</a></li>
<li>在给docker配置镜像加速地址，daemon.json中追加registry-mirrors时，没有加入上一行的逗号，导致docker重启失败，加入逗号，daemon.json符合json文件规范就可以了，如下图所示是失败案例：<br><img src="https://img-blog.csdnimg.cn/20210109133114411.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BpcmF0ZXNqamNm,size_16,color_FFFFFF,t_70#pic_center" alt="途中红圈处要追加逗号"></li>
</ol>
<h2 id="2、入门学习"><a href="#2、入门学习" class="headerlink" title="2、入门学习"></a>2、入门学习</h2><ol>
<li>master节点默认程序：<br><img src="https://img-blog.csdnimg.cn/2021010912511823.PNG#pic_center" alt="在这里插入图片描述"></li>
<li>slave节点默认程序：<br><img src="https://img-blog.csdnimg.cn/20210109125148921.PNG#pic_center" alt="在这里插入图片描述"></li>
</ol>

	

	</div>
  <a type="button" href="/2021/01/09/Install-K8S-in-centos7/#more" class="btn btn-default more">Read More</a>
</div>

-->
<div class="entry">
  <div class="row">
	
	
		<h2 id="虚拟机centos7搭建k8s"><a href="#虚拟机centos7搭建k8s" class="headerlink" title="虚拟机centos7搭建k8s"></a>虚拟机centos7搭建k8s</h2><h2 id="1、踩坑大全"><a href="#1、踩坑大全" class="headerlink" title="1、踩坑大全"></a>1、踩坑大全</h2><ol>
<li>centos7安装的docker后，默认非root用户无法使用，所以需要创建docker组，把当前普通用户加入到组中，这里参考链接：<a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/48957195/how-to-fix-docker-got-permission-denied-issue">设置docker非root用户正常使用</a></li>
<li>在给docker配置镜像加速地址，daemon.json中追加registry-mirrors时，没有加入上一行的逗号，导致docker重启失败，加入逗号，daemon.json符合json文件规范就可以了，如下图所示是失败案例：<br><img src="https://img-blog.csdnimg.cn/20210109133114411.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BpcmF0ZXNqamNm,size_16,color_FFFFFF,t_70#pic_center" alt="途中红圈处要追加逗号"></li>
</ol>
<h2 id="2、入门学习"><a href="#2、入门学习" class="headerlink" title="2、入门学习"></a>2、入门学习</h2><ol>
<li>master节点默认程序：<br><img src="https://img-blog.csdnimg.cn/2021010912511823.PNG#pic_center" alt="在这里插入图片描述"></li>
<li>slave节点默认程序：<br><img src="https://img-blog.csdnimg.cn/20210109125148921.PNG#pic_center" alt="在这里插入图片描述"></li>
</ol>

	
	</div>
  <a type="button" href="/2021/01/09/Install-K8S-in-centos7/#more" class="btn btn-default more">Read More</a>
</div>

		
			
	
	<!-- display as entry -->
<div class="row">
	<div class="col-md-8">
		<h3 class="title">
			<a href="/2019/03/20/AIDL原理和相关文件解析/" >AIDL原理和相关文件解析</a>
		</h3>
		</div>
	<div class="col-md-4">
		<div class="date">post @ 2019-03-20  </div>
		</div>
	</div>
	


			<!--
<div class="entry">
  <div class="row">
	
	
		<h2 id="Binder概述"><a href="#Binder概述" class="headerlink" title="Binder概述"></a>Binder概述</h2><p>&ensp;&ensp;相信从事Android相关的研发人员，都对Binder有个或多或少的了解，相关技术博客也有一大推，我今天对Binder的学习过程进行一个记录，理论性的叙述会少一点，更多的是基于AS自动生成的AIDL文件进行代码分析。但读者事先应该对Binder的Server、Client、ServerManager和Binder驱动要有一定的了解。</p>
<h2 id="AIDL代码简单分析"><a href="#AIDL代码简单分析" class="headerlink" title="AIDL代码简单分析"></a>AIDL代码简单分析</h2><h3 id="接口总览"><a href="#接口总览" class="headerlink" title="接口总览"></a>接口总览</h3><p>&ensp;&ensp;看过《Android开发艺术探索》的同行应该记得，有个经典的BookManager的Demo，如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br></pre></td><td class="code"><pre><span class="line">public interface BookManager extends android.os.IInterface &#123;</span><br><span class="line">    /**</span><br><span class="line">     * Local-side IPC implementation stub class.</span><br><span class="line">     */</span><br><span class="line">    public static abstract class Stub extends android.os.Binder implements android.tplink.sjj.aidltest.BookManager &#123;</span><br><span class="line">        private static final java.lang.String DESCRIPTOR = &quot;android.tplink.sjj.aidltest.BookManager&quot;;</span><br><span class="line"></span><br><span class="line">        /**</span><br><span class="line">         * Construct the stub at attach it to the interface.</span><br><span class="line">         */</span><br><span class="line">        public Stub() &#123;</span><br><span class="line">            this.attachInterface(this, DESCRIPTOR);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        /**</span><br><span class="line">         * Cast an IBinder object into an android.tplink.sjj.aidltest.BookManager interface,</span><br><span class="line">         * generating a proxy if needed.</span><br><span class="line">         */</span><br><span class="line">        public static android.tplink.sjj.aidltest.BookManager asInterface(android.os.IBinder obj) &#123;</span><br><span class="line">            if ((obj == null)) &#123;</span><br><span class="line">                return null;</span><br><span class="line">            &#125;</span><br><span class="line">            android.os.IInterface iin = obj.queryLocalInterface(DESCRIPTOR);</span><br><span class="line">            if (((iin != null) &amp;&amp; (iin instanceof android.tplink.sjj.aidltest.BookManager))) &#123;</span><br><span class="line">                return ((android.tplink.sjj.aidltest.BookManager) iin);</span><br><span class="line">            &#125;</span><br><span class="line">            return new android.tplink.sjj.aidltest.BookManager.Stub.Proxy(obj);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        @Override</span><br><span class="line">        public android.os.IBinder asBinder() &#123;</span><br><span class="line">            return this;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        @Override</span><br><span class="line">        public boolean onTransact(int code, android.os.Parcel data, android.os.Parcel reply, int flags) throws android.os.RemoteException &#123;</span><br><span class="line">            java.lang.String descriptor = DESCRIPTOR;</span><br><span class="line">            switch (code) &#123;</span><br><span class="line">            case INTERFACE_TRANSACTION: &#123;</span><br><span class="line">                reply.writeString(descriptor);</span><br><span class="line">                return true;</span><br><span class="line">            &#125;</span><br><span class="line">            case TRANSACTION_getBooks: &#123;</span><br><span class="line">                data.enforceInterface(descriptor);</span><br><span class="line">                java.util.List&lt;android.tplink.sjj.aidltest.Book&gt; _result = this.getBooks();</span><br><span class="line">                reply.writeNoException();</span><br><span class="line">                reply.writeTypedList(_result);</span><br><span class="line">                return true;</span><br><span class="line">            &#125;</span><br><span class="line">            case TRANSACTION_addBook: &#123;</span><br><span class="line">                data.enforceInterface(descriptor);</span><br><span class="line">                android.tplink.sjj.aidltest.Book _arg0;</span><br><span class="line">                if ((0 != data.readInt())) &#123;</span><br><span class="line">                    _arg0 = android.tplink.sjj.aidltest.Book.CREATOR.createFromParcel(data);</span><br><span class="line">                &#125; else &#123;</span><br><span class="line">                    _arg0 = null;</span><br><span class="line">                &#125;</span><br><span class="line">                this.addBook(_arg0);</span><br><span class="line">                reply.writeNoException();</span><br><span class="line">                return true;</span><br><span class="line">            &#125;</span><br><span class="line">            default: &#123;</span><br><span class="line">                return super.onTransact(code, data, reply, flags);</span><br><span class="line">            &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        private static class Proxy implements android.tplink.sjj.aidltest.BookManager &#123;</span><br><span class="line">            private android.os.IBinder mRemote;</span><br><span class="line"></span><br><span class="line">            Proxy(android.os.IBinder remote) &#123;</span><br><span class="line">                mRemote = remote;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            @Override</span><br><span class="line">            public android.os.IBinder asBinder() &#123;</span><br><span class="line">                return mRemote;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            public java.lang.String getInterfaceDescriptor() &#123;</span><br><span class="line">                return DESCRIPTOR;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            /**</span><br><span class="line">             * Demonstrates some basic types that you can use as parameters</span><br><span class="line">             * and return values in AIDL.</span><br><span class="line">             */</span><br><span class="line">            @Override</span><br><span class="line">            public java.util.List&lt;android.tplink.sjj.aidltest.Book&gt; getBooks() throws android.os.RemoteException &#123;</span><br><span class="line">                android.os.Parcel _data = android.os.Parcel.obtain();</span><br><span class="line">                android.os.Parcel _reply = android.os.Parcel.obtain();</span><br><span class="line">                java.util.List&lt;android.tplink.sjj.aidltest.Book&gt; _result;</span><br><span class="line">                try &#123;</span><br><span class="line">                    _data.writeInterfaceToken(DESCRIPTOR);</span><br><span class="line">                    mRemote.transact(Stub.TRANSACTION_getBooks, _data, _reply, 0);</span><br><span class="line">                    _reply.readException();</span><br><span class="line">                    _result = _reply.createTypedArrayList(android.tplink.sjj.aidltest.Book.CREATOR);</span><br><span class="line">                &#125; finally &#123;</span><br><span class="line">                    _reply.recycle();</span><br><span class="line">                    _data.recycle();</span><br><span class="line">                &#125;</span><br><span class="line">                return _result;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            @Override</span><br><span class="line">            public void addBook(android.tplink.sjj.aidltest.Book book) throws android.os.RemoteException &#123;</span><br><span class="line">                android.os.Parcel _data = android.os.Parcel.obtain();</span><br><span class="line">                android.os.Parcel _reply = android.os.Parcel.obtain();</span><br><span class="line">                try &#123;</span><br><span class="line">                    _data.writeInterfaceToken(DESCRIPTOR);</span><br><span class="line">                    if ((book != null)) &#123;</span><br><span class="line">                        _data.writeInt(1);</span><br><span class="line">                        book.writeToParcel(_data, 0);</span><br><span class="line">                    &#125; else &#123;</span><br><span class="line">                        _data.writeInt(0);</span><br><span class="line">                    &#125;</span><br><span class="line">                    mRemote.transact(Stub.TRANSACTION_addBook, _data, _reply, 0);</span><br><span class="line">                    _reply.readException();</span><br><span class="line">                &#125; finally &#123;</span><br><span class="line">                    _reply.recycle();</span><br><span class="line">                    _data.recycle();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        static final int TRANSACTION_getBooks = (android.os.IBinder.FIRST_CALL_TRANSACTION + 0);</span><br><span class="line">        static final int TRANSACTION_addBook = (android.os.IBinder.FIRST_CALL_TRANSACTION + 1);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * Demonstrates some basic types that you can use as parameters</span><br><span class="line">     * and return values in AIDL.</span><br><span class="line">     */</span><br><span class="line">    public java.util.List&lt;android.tplink.sjj.aidltest.Book&gt; getBooks() throws android.os.RemoteException;</span><br><span class="line"></span><br><span class="line">    public void addBook(android.tplink.sjj.aidltest.Book book) throws android.os.RemoteException;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>&ensp;&ensp;简单的说，通过AIDL，AS构建了统一的跨进程通信接口和相应的Binder，其内容如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">public interface BookManager extends android.os.IInterface &#123;</span><br><span class="line"></span><br><span class="line">	public static abstract class Stub extends android.os.Binder implements android.tplink.sjj.aidltest.BookManager</span><br><span class="line">    public java.util.List&lt;android.tplink.sjj.aidltest.Book&gt; getBooks() throws android.os.RemoteException;</span><br><span class="line">    public void addBook(android.tplink.sjj.aidltest.Book book) throws android.os.RemoteException;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>&ensp;&ensp;标准化后的AIDL继承了IInterface这个系统接口，内部有一个binder子类和我们定义的两个接口。</p>
<h3 id="Stub文件"><a href="#Stub文件" class="headerlink" title="Stub文件"></a>Stub文件</h3>
	

	</div>
  <a type="button" href="/2019/03/20/AIDL原理和相关文件解析/#more" class="btn btn-default more">Read More</a>
</div>

-->
<div class="entry">
  <div class="row">
	
	
		<h2 id="Binder概述"><a href="#Binder概述" class="headerlink" title="Binder概述"></a>Binder概述</h2><p>&ensp;&ensp;相信从事Android相关的研发人员，都对Binder有个或多或少的了解，相关技术博客也有一大推，我今天对Binder的学习过程进行一个记录，理论性的叙述会少一点，更多的是基于AS自动生成的AIDL文件进行代码分析。但读者事先应该对Binder的Server、Client、ServerManager和Binder驱动要有一定的了解。</p>
<h2 id="AIDL代码简单分析"><a href="#AIDL代码简单分析" class="headerlink" title="AIDL代码简单分析"></a>AIDL代码简单分析</h2><h3 id="接口总览"><a href="#接口总览" class="headerlink" title="接口总览"></a>接口总览</h3><p>&ensp;&ensp;看过《Android开发艺术探索》的同行应该记得，有个经典的BookManager的Demo，如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br></pre></td><td class="code"><pre><span class="line">public interface BookManager extends android.os.IInterface &#123;</span><br><span class="line">    /**</span><br><span class="line">     * Local-side IPC implementation stub class.</span><br><span class="line">     */</span><br><span class="line">    public static abstract class Stub extends android.os.Binder implements android.tplink.sjj.aidltest.BookManager &#123;</span><br><span class="line">        private static final java.lang.String DESCRIPTOR = &quot;android.tplink.sjj.aidltest.BookManager&quot;;</span><br><span class="line"></span><br><span class="line">        /**</span><br><span class="line">         * Construct the stub at attach it to the interface.</span><br><span class="line">         */</span><br><span class="line">        public Stub() &#123;</span><br><span class="line">            this.attachInterface(this, DESCRIPTOR);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        /**</span><br><span class="line">         * Cast an IBinder object into an android.tplink.sjj.aidltest.BookManager interface,</span><br><span class="line">         * generating a proxy if needed.</span><br><span class="line">         */</span><br><span class="line">        public static android.tplink.sjj.aidltest.BookManager asInterface(android.os.IBinder obj) &#123;</span><br><span class="line">            if ((obj == null)) &#123;</span><br><span class="line">                return null;</span><br><span class="line">            &#125;</span><br><span class="line">            android.os.IInterface iin = obj.queryLocalInterface(DESCRIPTOR);</span><br><span class="line">            if (((iin != null) &amp;&amp; (iin instanceof android.tplink.sjj.aidltest.BookManager))) &#123;</span><br><span class="line">                return ((android.tplink.sjj.aidltest.BookManager) iin);</span><br><span class="line">            &#125;</span><br><span class="line">            return new android.tplink.sjj.aidltest.BookManager.Stub.Proxy(obj);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        @Override</span><br><span class="line">        public android.os.IBinder asBinder() &#123;</span><br><span class="line">            return this;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        @Override</span><br><span class="line">        public boolean onTransact(int code, android.os.Parcel data, android.os.Parcel reply, int flags) throws android.os.RemoteException &#123;</span><br><span class="line">            java.lang.String descriptor = DESCRIPTOR;</span><br><span class="line">            switch (code) &#123;</span><br><span class="line">            case INTERFACE_TRANSACTION: &#123;</span><br><span class="line">                reply.writeString(descriptor);</span><br><span class="line">                return true;</span><br><span class="line">            &#125;</span><br><span class="line">            case TRANSACTION_getBooks: &#123;</span><br><span class="line">                data.enforceInterface(descriptor);</span><br><span class="line">                java.util.List&lt;android.tplink.sjj.aidltest.Book&gt; _result = this.getBooks();</span><br><span class="line">                reply.writeNoException();</span><br><span class="line">                reply.writeTypedList(_result);</span><br><span class="line">                return true;</span><br><span class="line">            &#125;</span><br><span class="line">            case TRANSACTION_addBook: &#123;</span><br><span class="line">                data.enforceInterface(descriptor);</span><br><span class="line">                android.tplink.sjj.aidltest.Book _arg0;</span><br><span class="line">                if ((0 != data.readInt())) &#123;</span><br><span class="line">                    _arg0 = android.tplink.sjj.aidltest.Book.CREATOR.createFromParcel(data);</span><br><span class="line">                &#125; else &#123;</span><br><span class="line">                    _arg0 = null;</span><br><span class="line">                &#125;</span><br><span class="line">                this.addBook(_arg0);</span><br><span class="line">                reply.writeNoException();</span><br><span class="line">                return true;</span><br><span class="line">            &#125;</span><br><span class="line">            default: &#123;</span><br><span class="line">                return super.onTransact(code, data, reply, flags);</span><br><span class="line">            &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        private static class Proxy implements android.tplink.sjj.aidltest.BookManager &#123;</span><br><span class="line">            private android.os.IBinder mRemote;</span><br><span class="line"></span><br><span class="line">            Proxy(android.os.IBinder remote) &#123;</span><br><span class="line">                mRemote = remote;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            @Override</span><br><span class="line">            public android.os.IBinder asBinder() &#123;</span><br><span class="line">                return mRemote;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            public java.lang.String getInterfaceDescriptor() &#123;</span><br><span class="line">                return DESCRIPTOR;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            /**</span><br><span class="line">             * Demonstrates some basic types that you can use as parameters</span><br><span class="line">             * and return values in AIDL.</span><br><span class="line">             */</span><br><span class="line">            @Override</span><br><span class="line">            public java.util.List&lt;android.tplink.sjj.aidltest.Book&gt; getBooks() throws android.os.RemoteException &#123;</span><br><span class="line">                android.os.Parcel _data = android.os.Parcel.obtain();</span><br><span class="line">                android.os.Parcel _reply = android.os.Parcel.obtain();</span><br><span class="line">                java.util.List&lt;android.tplink.sjj.aidltest.Book&gt; _result;</span><br><span class="line">                try &#123;</span><br><span class="line">                    _data.writeInterfaceToken(DESCRIPTOR);</span><br><span class="line">                    mRemote.transact(Stub.TRANSACTION_getBooks, _data, _reply, 0);</span><br><span class="line">                    _reply.readException();</span><br><span class="line">                    _result = _reply.createTypedArrayList(android.tplink.sjj.aidltest.Book.CREATOR);</span><br><span class="line">                &#125; finally &#123;</span><br><span class="line">                    _reply.recycle();</span><br><span class="line">                    _data.recycle();</span><br><span class="line">                &#125;</span><br><span class="line">                return _result;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            @Override</span><br><span class="line">            public void addBook(android.tplink.sjj.aidltest.Book book) throws android.os.RemoteException &#123;</span><br><span class="line">                android.os.Parcel _data = android.os.Parcel.obtain();</span><br><span class="line">                android.os.Parcel _reply = android.os.Parcel.obtain();</span><br><span class="line">                try &#123;</span><br><span class="line">                    _data.writeInterfaceToken(DESCRIPTOR);</span><br><span class="line">                    if ((book != null)) &#123;</span><br><span class="line">                        _data.writeInt(1);</span><br><span class="line">                        book.writeToParcel(_data, 0);</span><br><span class="line">                    &#125; else &#123;</span><br><span class="line">                        _data.writeInt(0);</span><br><span class="line">                    &#125;</span><br><span class="line">                    mRemote.transact(Stub.TRANSACTION_addBook, _data, _reply, 0);</span><br><span class="line">                    _reply.readException();</span><br><span class="line">                &#125; finally &#123;</span><br><span class="line">                    _reply.recycle();</span><br><span class="line">                    _data.recycle();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        static final int TRANSACTION_getBooks = (android.os.IBinder.FIRST_CALL_TRANSACTION + 0);</span><br><span class="line">        static final int TRANSACTION_addBook = (android.os.IBinder.FIRST_CALL_TRANSACTION + 1);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * Demonstrates some basic types that you can use as parameters</span><br><span class="line">     * and return values in AIDL.</span><br><span class="line">     */</span><br><span class="line">    public java.util.List&lt;android.tplink.sjj.aidltest.Book&gt; getBooks() throws android.os.RemoteException;</span><br><span class="line"></span><br><span class="line">    public void addBook(android.tplink.sjj.aidltest.Book book) throws android.os.RemoteException;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>&ensp;&ensp;简单的说，通过AIDL，AS构建了统一的跨进程通信接口和相应的Binder，其内容如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">public interface BookManager extends android.os.IInterface &#123;</span><br><span class="line"></span><br><span class="line">	public static abstract class Stub extends android.os.Binder implements android.tplink.sjj.aidltest.BookManager</span><br><span class="line">    public java.util.List&lt;android.tplink.sjj.aidltest.Book&gt; getBooks() throws android.os.RemoteException;</span><br><span class="line">    public void addBook(android.tplink.sjj.aidltest.Book book) throws android.os.RemoteException;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>&ensp;&ensp;标准化后的AIDL继承了IInterface这个系统接口，内部有一个binder子类和我们定义的两个接口。</p>
<h3 id="Stub文件"><a href="#Stub文件" class="headerlink" title="Stub文件"></a>Stub文件</h3>
	
	</div>
  <a type="button" href="/2019/03/20/AIDL原理和相关文件解析/#more" class="btn btn-default more">Read More</a>
</div>

		
			
	
	<!-- display as entry -->
<div class="row">
	<div class="col-md-8">
		<h3 class="title">
			<a href="/2019/03/20/android-app闪退原因总结分析/" >android app闪退原因总结分析</a>
		</h3>
		</div>
	<div class="col-md-4">
		<div class="date">post @ 2019-03-20  </div>
		</div>
	</div>
	


			<!--
<div class="entry">
  <div class="row">
	
	
		<h2 id="Android内存泄露概述"><a href="#Android内存泄露概述" class="headerlink" title="Android内存泄露概述"></a>Android内存泄露概述</h2><p>&ensp;&ensp;了解Android内存泄露之前，需要对java的内存管理和GC机制有个简单的了解。<br>&ensp;&ensp;Android内存泄露的根本原因是引用者的生命周期大于被引用者。举个例子，有对象A，B，B有A的强引用，GC要回收A时发现B还未销毁，所以A也未能被回收。</p>
<h2 id="Android的内存泄露后果"><a href="#Android的内存泄露后果" class="headerlink" title="Android的内存泄露后果"></a>Android的内存泄露后果</h2><ol>
<li>直接后果是，内存泄露导致空间浪费，最终导致内存溢出；</li>
<li>间接后果是，内存不足导致频繁GC，系统性能下降<h2 id="Android内存泄露场景"><a href="#Android内存泄露场景" class="headerlink" title="Android内存泄露场景"></a>Android内存泄露场景</h2></li>
<li>单例模式中引用四大组建，最常见的是单例中引用Activity的context，导致该Activity在内存中存活的周期和Application一样长，GC无法正常回收。<br>&ensp;&ensp;解决办法：单例模式应用ApplicationContext，该引用和应用的生命周期一样长</li>
<li>非静态内部类或匿名内部类，该类对象持有外部类的强引用，如果该类的对象进行耗时操作，无法短期内被回收，那他持有的外部对象也无法及时回收，典型场景有：匿名Thread类异步执行耗时操作，非静态Handler对象，其中有未完成的异步信息。<br>&ensp;&ensp;解决办法：内部类如果任务繁重，可以考虑使用静态内部类，静态内部类独立于外部类存在，典型的应用场景如RecyclerView中的VIewHolder。</li>
<li>集合中存储静态对象，导致集合占用的空间无法及时释放。<br>&ensp;&ensp;解决办法：。。。</li>
<li>资源没有关闭，例如文件操作、网络流、广播未注销、Service脱离Activity未停止运行、观察者模式未解除监听等等。<br>&ensp;&ensp;解决办法：养成良好的编程习惯，成对出现的open，close要一起使用。<h2 id="补充学习一下java的各种引用"><a href="#补充学习一下java的各种引用" class="headerlink" title="补充学习一下java的各种引用"></a>补充学习一下java的各种引用</h2></li>
<li>强引用：最通用的引用，比如 B  b = new B()，b就是一个强引用，这样该引用存在，GC就不会回收，这也是导致java内存泄露的根本原因；</li>
<li>软引用：当内存不够时，GC会先回收这类引用；SoftReference<b> bs = SoftReference<b>(b)；</b></b></li>
<li>弱引用：当GC发现一个对象只有弱引用时，马上回收它，WeakReference<b> sr = new WeakReference<b>(b)；</b></b></li>
<li>虚引用：类似于占位符，不影响实际对象的生命周期，GC该怎么做就怎么做。<br>&ensp;&ensp;综上，是java提供的几种引用机制，如果我们加以利用，可以一定程度上减少内存泄露情景，具体用法网上很多，我也正在学习当中。</li>
</ol>

	

	</div>
  <a type="button" href="/2019/03/20/android-app闪退原因总结分析/#more" class="btn btn-default more">Read More</a>
</div>

-->
<div class="entry">
  <div class="row">
	
	
		<h2 id="Android内存泄露概述"><a href="#Android内存泄露概述" class="headerlink" title="Android内存泄露概述"></a>Android内存泄露概述</h2><p>&ensp;&ensp;了解Android内存泄露之前，需要对java的内存管理和GC机制有个简单的了解。<br>&ensp;&ensp;Android内存泄露的根本原因是引用者的生命周期大于被引用者。举个例子，有对象A，B，B有A的强引用，GC要回收A时发现B还未销毁，所以A也未能被回收。</p>
<h2 id="Android的内存泄露后果"><a href="#Android的内存泄露后果" class="headerlink" title="Android的内存泄露后果"></a>Android的内存泄露后果</h2><ol>
<li>直接后果是，内存泄露导致空间浪费，最终导致内存溢出；</li>
<li>间接后果是，内存不足导致频繁GC，系统性能下降<h2 id="Android内存泄露场景"><a href="#Android内存泄露场景" class="headerlink" title="Android内存泄露场景"></a>Android内存泄露场景</h2></li>
<li>单例模式中引用四大组建，最常见的是单例中引用Activity的context，导致该Activity在内存中存活的周期和Application一样长，GC无法正常回收。<br>&ensp;&ensp;解决办法：单例模式应用ApplicationContext，该引用和应用的生命周期一样长</li>
<li>非静态内部类或匿名内部类，该类对象持有外部类的强引用，如果该类的对象进行耗时操作，无法短期内被回收，那他持有的外部对象也无法及时回收，典型场景有：匿名Thread类异步执行耗时操作，非静态Handler对象，其中有未完成的异步信息。<br>&ensp;&ensp;解决办法：内部类如果任务繁重，可以考虑使用静态内部类，静态内部类独立于外部类存在，典型的应用场景如RecyclerView中的VIewHolder。</li>
<li>集合中存储静态对象，导致集合占用的空间无法及时释放。<br>&ensp;&ensp;解决办法：。。。</li>
<li>资源没有关闭，例如文件操作、网络流、广播未注销、Service脱离Activity未停止运行、观察者模式未解除监听等等。<br>&ensp;&ensp;解决办法：养成良好的编程习惯，成对出现的open，close要一起使用。<h2 id="补充学习一下java的各种引用"><a href="#补充学习一下java的各种引用" class="headerlink" title="补充学习一下java的各种引用"></a>补充学习一下java的各种引用</h2></li>
<li>强引用：最通用的引用，比如 B  b = new B()，b就是一个强引用，这样该引用存在，GC就不会回收，这也是导致java内存泄露的根本原因；</li>
<li>软引用：当内存不够时，GC会先回收这类引用；SoftReference<b> bs = SoftReference<b>(b)；</b></b></li>
<li>弱引用：当GC发现一个对象只有弱引用时，马上回收它，WeakReference<b> sr = new WeakReference<b>(b)；</b></b></li>
<li>虚引用：类似于占位符，不影响实际对象的生命周期，GC该怎么做就怎么做。<br>&ensp;&ensp;综上，是java提供的几种引用机制，如果我们加以利用，可以一定程度上减少内存泄露情景，具体用法网上很多，我也正在学习当中。</li>
</ol>

	
	</div>
  <a type="button" href="/2019/03/20/android-app闪退原因总结分析/#more" class="btn btn-default more">Read More</a>
</div>

		

		</div>

		<!-- pagination -->
		<div>
  		<center>
		<div class="pagination">

   
</div>

  		</center>
		</div>

		
		
	</div> <!-- col-md-9 -->

	
		<div class="col-md-3">
	<div id="sidebar">
	
			
  <div id="site_search">
   <div class="form-group">
    <input type="text" id="local-search-input" name="q" results="0" placeholder="Search" class="st-search-input st-default-search-input form-control"/>
   </div>  
  <div id="local-search-result"></div>
  </div>


		
			
		
			

		
			
<div class="widget">
  <h4>Recent Posts</h4>
  <ul class="entry list-unstyled">
    
      <li>
        <a href="/2021/05/26/Showdown/" ><i class="fa fa-file-o"></i>Showdown</a>
      </li>
    
      <li>
        <a href="/2021/05/26/hello-world/" ><i class="fa fa-file-o"></i>Hello World</a>
      </li>
    
      <li>
        <a href="/2021/01/09/Install-K8S-in-centos7/" ><i class="fa fa-file-o"></i>Install K8S in centos7</a>
      </li>
    
      <li>
        <a href="/2019/03/20/AIDL原理和相关文件解析/" ><i class="fa fa-file-o"></i>AIDL原理和相关文件解析</a>
      </li>
    
      <li>
        <a href="/2019/03/20/android-app闪退原因总结分析/" ><i class="fa fa-file-o"></i>android app闪退原因总结分析</a>
      </li>
    
  </ul>
</div>

		
			
<div class="widget">
	<h4>Links</h4>
	<ul class="blogroll list-unstyled">
	
		<li><i class="false"></i><a href="https://github.com/Ares-X/hexo-theme-freemind.bithack" title="" target="_blank"]);">hexo-theme-bithack</a></li>
	
	</ul>
</div>


		
	</div> <!-- sidebar -->
</div> <!-- col-md-3 -->

	
	
</div> <!-- row-fluid -->
	</div>
  </div>
  <div class="container-narrow">
  <footer> <p>
  
  &copy; 2021 John Doe's Blog
  
      powered by <a href="http://hexo.io/" target="_blank">Hexo</a>.Theme <a href="https://github.com/Ares-X/hexo-theme-freemind.bithack" target="_blank">freemind.bithack</a>  
</p>
 </footer>
</div> <!-- container-narrow -->
  


  
<a id="gotop" href="#">   
  <span>⬆︎TOP</span>
</a>

<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>
<script src="/js/search.js"></script> 


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>



   <script type="text/javascript">      
     var search_path = "search.xml";
	 if (search_path.length == 0) {
	 	search_path = "search.xml";
	 }
	 var path = "/" + search_path;
     searchFunc(path, 'local-search-input', 'local-search-result');
   </script>

</body>
   </html>
